Step 1/9 : FROM golang:1.13.5-alpine AS go_static
 ---> 57ce7b9daa9b
Step 2/9 : RUN apk --no-cache add git
 ---> Using cache
 ---> 96fbd7b4fa6b
Step 3/9 : RUN go get -u -v github.com/google/tcpproxy
 ---> Using cache
 ---> ffb96c44fc69
Step 4/9 : COPY cmd/proxy/main.go /var/code/main.go
 ---> Using cache
 ---> c2221fb49fe4
Step 5/9 : WORKDIR /var/code
 ---> Using cache
 ---> cde0060ffebd
Step 6/9 : RUN go build -o /usr/local/bin/proxy .
 ---> Using cache
 ---> d150dbf51288

Step 7/9 : FROM alpine:3.10.3 AS app
 ---> 965ea09ff2eb
Step 8/9 : COPY --from=go_static /usr/local/bin/proxy /usr/local/bin/proxy
 ---> Using cache
 ---> ba32e2b444d1
Step 9/9 : ENTRYPOINT ["/usr/local/bin/proxy"]
 ---> Using cache
 ---> 2c6ee05ebbcd

Successfully built 2c6ee05ebbcd
Successfully tagged dhermes/mtls-explainer-proxy:latest
Attaching to docker_server_1, docker_proxy_1, docker_client_1
[33mproxy_1   |[0m Running TCP pass through proxy from :28443 to server:18443
[33mproxy_1   |[0m ln type: *net.TCPListener
[36mserver_1  |[0m Listening on :18443
[33mproxy_1   |[0m conn type: *net.TCPConn
[33mproxy_1   |[0m Read() completed 257 bytes: 16030100fc010000f803033a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a203a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a0026c02fc030c02bc02ccca8cca9c013c009c014c00a009c009d002f0035c012000a130113031302010000890000000a000800000570726f7879000500050100000000000a000a0008001d001700180019000b00020100000d001a0018080404030807080508060401050106010503060302010203ff0100010000120000002b0009080304030303020301003300260024001d00200d43915fb4b40a2e9f111ae150197e643d39d000ec6977d28551a04caa189354
[36mserver_1  |[0m CLIENT_HANDSHAKE_TRAFFIC_SECRET 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a d854b968272ecadbd069f958f2174079595cc8c53ee6241932b0d663ef12bb88
[36mserver_1  |[0m SERVER_HANDSHAKE_TRAFFIC_SECRET 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a 7400b7af574767e63fe8d6ada246f694f2a755527b1aecac8ebdaf8c9d840420
[36mserver_1  |[0m CLIENT_TRAFFIC_SECRET_0 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a aaa9c5e5e17489750bc84a7e87c30a9d37a41292c99078d93baadb3b0ee48239
[36mserver_1  |[0m SERVER_TRAFFIC_SECRET_0 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a c224cc3439d4972ef93df64ddb1ee6b94ab6a56e97fdb688e11fab5dbe234919
[33mproxy_1   |[0m Write() completed 1793 bytes: 160303007a020000760303a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3203a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a130100002e002b0002030400330024001d00205fc2f8a124437afcee7d4567fe31e02c2d042939de96f07b06e28c0c4c3af7401403030001011703030017f28ab5ac42c8e6bdcd9c252bfed3dea4952edaf33cb38917030300a7c14e92090dd01e836ed9435aec13f38eedee21b3becf12212175ae7839bdfde7f026a729db450dacb45c0e2391ef00960f7b42b6b4ddb67fb4222157e619884b3475ace1704b3d1973a8ba7d698fcdd6481a4004ab5f8217a2ec44b03d4a8ac69861ad510e095dee281ba73a19b0a714edbd808654360250bc4cac4d833f43b3c5a8575176e1e93689ff1807be771896197ce912a7923801266718e52130f81c1b87b261e4f9bc1703030457f5e938ce60c4c33ed433b80cdd620387cb547df46857324cb7593c3b09fb3ffedc7119fbe02a5ad119657c26db4cc5eaf9d66eabe03cd6013afedb2a6d00535598811e5af812414558ea8e7b6dbd2f6db38c26411310619019bfe9d7c4941fc1cb1bc24cf52f89dbe768f45ac420fe8fef83980091b3c5b5e51578f4389334163551d79e68c7d0753f3a6c63d063cba84b9b4df0c93913b415d25edbd72d50d11ab963385e2a9ffe6656c3c9035f5104613535710f4861245779a714e1f160705dc85bd8a3e63cf1a271fe8d860465db5cc87ae240efd6156f4ba292b264570252b5c48ac26ba91a1b86e0109ec22b450fe27b5495e471fb71dd18c8b69cc1fd7fa275373b234d3408420a4c7e9d06f792d722d2137a47ce9bc8f862a7e10eb8bd453dd149f3df036657edbed91fdd5ae8f4c0e24dc927b86d71698af66d720af7564943850ed95f491f5a79826d773d11b95a5e369b61af09cea8815c553b791d2012242676bce9f7a633b65b457b42fbc342fefbace9b164297cd0f797c0138b33f27190f629de521da98fd77dec2a917597ae51a2d06aa4a79a8543ad7f50020b999a15ce121278b510016476a6c07c42e860749df9b5bc58bbde331d8bead804f0d33683d0de07de3412f34ab557addd039f0b4e7650e886dd4dc36970523ebdf6c563055f54ebfbd14f7b99605ec4fb67b6d37c7d21af1e9342fdf3215610c48799c68a54a845a658a6b9e5db75ccfa4cbafc243c7b57e632c4710c60053f4e5b3516a4b47b628b4b6c7c42d06e8dfee19355abc70f45edb205bca23ee1d67f3d274e72d8feaceb36aaa4fc1868ccdb8afe98a005e281c8631ccd8912719398a6aaa449984b334194bcc9ee2dacaf88f6afa2fa7dd0233e215bd0c6679e264d0561bdccc06974ae5edf46932e8ee8c072d26389b38f8aec0873ea46b41de55094458571a8c0c98ff2058c7c83c1f8d1f63208dc676744e01700e16601236afe851464bb0ac85964ba035b8fcee95ed4ffbdb876aac0f1f2d0fae6adeb2c43ad9a6387eaa22b9c19ea217cad9c8f1360ff55045d20953790d429002d734fd35d7ad2f9dc97fa8344d85b2909dfd45bb8e7e7df98fdc3b010b7126b72a4fbad0eecceb957d4250890cdf8d37addbbbd67c117b795e6a3668cc997c612b807fc6c59fc16df49e660ab700e53f6ab34efe92f589ae20c835f278128d5a004e49db418a11aa81386b77b622bffaffe92770f3f5a8332632da1933a90c62a776f5db20e36c2ff4a228e1c6f581b4e78365bbdd09710e508d43dd4ea91748cf2ecd6837869861c51f7613068948e784870f107831022e7a5e657afde7740406883f543a03c6a8cb844c7d06527b70ab955b7a572320a5c1011815a562907e2915ac6641c54ac69d2f99e6999cebc9fc17d7c317dd512a45bf36ec91cd896b83724c3591a3cbac0342a31c2cb0259d3c4c455ea1daaf9e8fe6eae1709aed37004e292bbda81bd7de5fbcdd7d5cdb4d1cfdfbb6098e79f071f1f64b52c5b442c49749f46810b74ac60176ef7ca75d7ff9122cfc1e4cf1968811703030119971a70b98750604c3d4447e8a37e6ecb35bd8b57f60e541956546cfe7284adf057f4022ad1e3c92adb48948beae3fdf538e7c4e52e2d52a6faeb1f9dfa9979c270f4521664de5202e12460daacabaca728b1eb01b1a2647df8cd564e1005a7b050fccd36f7155ca5a432f0c324a4adad510c3079d318bc0102806b841f8751bc8e18e22fb312572fc2e5c8e47cf5251fc490989b0979d2d6a955077e28ceef9c0cac5e559403ff4eb7ee9c07e7528bdad50e05ce26640e36428b7a816738a640226f176361be2d7bcbf6d1fdf94feec639841ebb99d8f689ea033c0a9c78d5dd531db821b4a202800767b6d7978a868a76738fdc1bb58c563c14a0efe4751a33b26b9cde074ce716078183c5377e1f4e415a10dd9498cf6cf61703030035693a556a9fa859cd895557031e4533f57429b6923b284b3817241f4ed5a8d140638d5ff9e0bf21bd7448c832652639cfec22f3d643
[32mclient_1  |[0m CLIENT_HANDSHAKE_TRAFFIC_SECRET 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a d854b968272ecadbd069f958f2174079595cc8c53ee6241932b0d663ef12bb88
[32mclient_1  |[0m SERVER_HANDSHAKE_TRAFFIC_SECRET 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a 7400b7af574767e63fe8d6ada246f694f2a755527b1aecac8ebdaf8c9d840420
[32mclient_1  |[0m CLIENT_TRAFFIC_SECRET_0 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a aaa9c5e5e17489750bc84a7e87c30a9d37a41292c99078d93baadb3b0ee48239
[32mclient_1  |[0m SERVER_TRAFFIC_SECRET_0 3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a3a c224cc3439d4972ef93df64ddb1ee6b94ab6a56e97fdb688e11fab5dbe234919
[33mproxy_1   |[0m Read() completed 1450 bytes: 1403030001011703030447aab9d0630e9555a3aab8922a16e7b1f698259bcde436a2947eaa8a5fa2aaef2a5bab71cbc23ed131f5e80e34c6ef0a410733ebe39b260465d217e5db91dd6bc4a928c2dcbc75c85cec08ff33bffe9e95967c16e61543e3c42b1d7353ae875edb57acb77fd71f7b0c84d2735172a32f456fd9f4d1ba21edf9f19e46eac2025b32ecee9f41ee3c4fbbe3bdd2add4ff6dc98e927d332ff5052c45128742b7e5b919e1c082af8f10239eec8f27ee825dcd0c4466c37c3069ea535d8c411f98b53a701990ee8fb1c20533e81c43494d6997e0a4d40cb8740cd2fa98f1a4e0930e3d46d083ab1f3b6614006eb58166297af2d2dbc00a894ee007aae7864c7d793b7c1156d6314371e37614bd054cb611b812057c7f0a9037436c74585c0df6a562f70e75535f01b450be67bcb6efcff746277782606a4bb5e8b80ab080661cb5df90a0ab76a447572c970b0d9f1b8a95bfda238bda35d5ab4396d6a5780329b24797bb012ef500a86e4af937d00ec1e0ef0df9754efa79667ac236f9b22b908541fa05b34acdc4d590897464d80a99dba8bba93ae763e92df03cf6b8580cc4325037cbf3413110671c6373c455b4d1c087bbeadd88a624590c65b2d947bd66a14381b35e654f60d4fbe95f0dc34f0088fa79fc732716fe9c29efc160ef1482a725ef8ef4b34f8997e6f3cd554550fb46c8b30c1028da7d7b2ab7f0e5fa3323e97aa25c73688fc4f375175d3200bdee9d058d2e5b61cee45b80fae8692078407f1ca16ac4c2b0b0bcd9b63a24653f8758cdd2661eabcd48cde15ccc11ea6e862b1d5cbbb0d20039296f6831d778d43c544b43b942ebb39e6daae5ae3f36e5cab21ea1c5e76c46b978624e59182cca117648646b290f018c98ada04541f3114d2cbc02a7d2f80c58b77cb289c3919bf5d21fe04d27ee0c364c709630772884ddcd1a1aed6e7dd44776942321d6125a1bfc6a4f2c9cd9aa7fe9e948afbd6c42c51c015e36ddc9a30badd5cfe027bc16526cb07353a3a58c8965c1fbe402ed1ffd5149a9e645b377ce72689e3ee3e08d3052c4695676d7b0687bac0744f1536b94d01f06e7ec1e43568ef91ffd5f1c02b550609dc2ca16821c31da897fea10391e88a869a787e17064cc5cb77bd9f42cb7de4c922fbc544d3a4d599426c7f3530677410a8e287b22d6e0d8dd39a21af5c40baf53da76d36092baab864e994f74c14758f36996e1247d2f0dfea81f0ce08a3b0f2e0317a643f6b5c148fb679876a14a7640df5d7c1b6ad4745b9261e1a2bd369d23850d0625583d5a84b4895727d235dd319b73e1711ab6de11f747cc2c6894098e8ba5247e5922fdfaaf5601421ee4a5ffb1c3e40b7fa47d32c7d931f2d7ef814ac3192c1a5f08d5f2ebd2f199fbb513c5a6807779f276ba242b54d7eb851efe1e79b6cbe502dd553210d348702dad963da35dc4da100222d0560d1fcb5e189845d20df7e0391c814427faac3d34a8901018e6bf8b7910eb31cf4c2f689835a76d2fe7280e0dcda229507d62442032e754d54966c84e89ae481703030119a9b8c3c01c7ca994a6e09756799db29b8dfeea2c9f59c303b70e9882a370f372c792e2b0e23966fa15c9b8792a0c1ef33892ff2f8c329105287ee2c01b3c43340ce41314122a61cf50f716dc3b5c28f702d689eaa97102a8b170f4dcc19c190de49096539bb51efdad88163d6b84e0d527c45301d09c69ca6d0d45bb87bd4a6be908eaacfa1d00bf54bffddb43b77cf513001cb73fe1c279f0aceb1f119f5c348601257cac8f026d90b61741ff420e3b50a9182a7370ea6be189185a9f7a2638e33577844709ee3dfa94ca4c698e9482f8f33bc77225083616e8ef19b26de716c54a45fcc92a442718ddce9c61ea83c2027a9841af19bbdebaa4294e68061f40d0c820e8d00bc835b5c011ba363d1844d2684be0b97b62fb1d170303003528c25443c6cb28b776f82671d02e96cc5dcbe04742654aedbbadc7fa72017a99a4e9614a9c39df4497c907531feff902929b5f53a8
[33mproxy_1   |[0m Read() completed 119 bytes: 1703030072d39ae6451de6f8b438a17a11f8eaadf1fc74e13495828d4fe87030ea1bf5f819eac82f5dfa265f83780649e4b451990052f7954b4194cb84848aaecd70fc2df965fc1b19389b183fd045447a2e978f964e3b46699e9ca37a6d32cbe33e580c695d97cfaee91239826fdbfaf2d00b8032bb13
[36mserver_1  |[0m Handling request for /hello
[33mproxy_1   |[0m Write() completed 153 bytes: 1703030094aed42c608ed6d1806dc26d30710115e370662a350f047b60c6198effe0337a582fe2062993ce2aeda1d188f16978ecc53e22ed143c644df9d0aa2e73596605eb45a0448bc66dffa623022d55638779d2e6b268a4098ee0ee29d968fdc1b9fa4c0a3f745f72e7548ff6c91253ec464302df669fef9d53f9ac8f9cc7b6d49f5a8805df695ea28c11a019d9ad117c707b45bca4f878
[32mclient_1  |[0m Received: "Hello, world!\n"
[33mproxy_1   |[0m Write() completed 24 bytes: 17030300136b087207a3708a097c7bdf3924935ab39fe56d
[33mproxy_1   |[0m Read() failed with read tcp 172.19.0.3:28443->172.19.0.4:47948: use of closed network connection
[32mdocker_client_1 exited with code 0
[0mAborting on container exit...
